"use strict";var app=angular.module("credentials",[]);app.component("credentials",{templateUrl:"/ang/templates/credentials.html"});app.controller("credentialsController",function($rootScope,$scope,$window,$route,userProfileService,authenticationService,logoutService,updateControllerService){$scope.email="";$scope.password="";$scope.confirm_password="";$scope.password_incorrect=!1;check_authentication();$scope.save=function(value){if(value=="email"){var url_params={username:$scope.authentication_data.User.username};var data=angular.toJson({email:$scope.email});userProfileService.post(url_params,data,function(data){console.log(data);if(data.UpdateStatus==!0){alert("Email changed successfully.\n\nLogin again....");logoutService.post({},function(logout_status){console.log(logout_status);updateControllerService.user_logged_out();$window.location.href=""});$window.location.href="/"}else{alert("Email is already registered.");$scope.email=""}})}else{var url_params={username:$scope.authentication_data.User.username};var data=angular.toJson({password:$scope.password});userProfileService.post(url_params,data,function(data){console.log(data);if(data.UpdateStatus==!0){alert("Password changed successfully.\n\nLogin again....");$window.location.href="/"}})}};$scope.$watch("password",function(newValue,oldValue){if(newValue==$scope.confirm_password&&newValue!=""&&newValue.length>=8){$scope.password_incorrect=!1}else{$scope.password_incorrect=!0}});$scope.$watch("confirm_password",function(newValue,oldValue){if(newValue==$scope.password&&newValue!=""&&newValue.length>=8){$scope.password_incorrect=!1}else{$scope.password_incorrect=!0}});function check_authentication(){console.log("Function Entered.");$scope.authentication_data=authenticationService.check_authentication();if($scope.authentication_data.UserAuthenticated==!1&&$scope.authentication_data.SuperUser==!1){$window.location.href="/"}}})